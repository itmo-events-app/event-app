e2e тесты пишутся по шаблону.  
Наследуемся от AbstractTestContainers. В этом классе вся конфигурация контейнеров необходимая для тестов.  
Это позволит поднимать контейнеры postgres и minio один раз на все тесты и сильно сэкономить всемя на прогонку тестов.

Для тестирования minio создаем всегда один bucket с именем "test-bucket", для этого существует константа MINIO_BUCKET.  
После каждого теста все данные в таблицах postgres очищаются и удаляется bucket minio.

Есть пример написания теста: TestControllerTest.

Есть две вспомогательные функции:

1. loadAsString. Загружает содержимое файла в виде строки. Используем для парсинга тела запроса из json.
2. executeSqlScript. Исполняет sql скрипт из файла.